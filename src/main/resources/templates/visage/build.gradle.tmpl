

buildscript {
        repositories {
                    repositories {  mavenRepo url: "http://jugchennai.github.com/visage-gradle-plugin/repository" } 
        }
    dependencies {  classpath 'visage:visage-gradle-plugin:0.1' }
}

apply plugin: 'visage'

group = '${projectGroup}'

defaultTasks 'runVisage'

visage {

	mainVisageClass='visage.javafx.HelloVisageFX'
	
}

task runVisage (type: Exec, dependsOn: 'compileVisage') {
		
	def cp =  project.files(
				project.sourceSets.main.output.classesDir,
				project.sourceSets.main.resources,
				project.configurations.runtime
				).getAsPath() 

	workingDir project.sourceSets.main.output.classesDir

	commandLine "visage", "-cp", cp, project.visage.mainVisageClass 
	}
